@model TripDetailsViewModel

@foreach (var leg in Model.Legs)
{
    if (leg.TransferMessages != null) {
        <div class="trips_transfer">
            <div class="trips_transfer_icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                    <path fill="currentColor" fill-rule="evenodd" d="M12.5 2.75a1.75 1.75 0 1 0 0 3.5a1.75 1.75 0 0 0 0-3.5M9.25 4.5a3.25 3.25 0 1 1 6.5 0a3.25 3.25 0 0 1-6.5 0m1.68 4.767c.199-.01.392-.017.57-.017c.554 0 1.154.062 1.694.14c1.521.218 2.673 1.34 3.134 2.722a.67.67 0 0 0 .746.449l1.803-.3a.75.75 0 1 1 .246 1.479l-1.803.3a2.17 2.17 0 0 1-2.415-1.454c-.307-.922-1.043-1.585-1.924-1.712a13.64 13.64 0 0 0-.805-.093l-.271 2.711c-.084.84-.094 1.062-.037 1.26c.056.198.182.38.697 1.049l4.43 5.74a.75.75 0 1 1-1.188.917l-4.43-5.74l-.07-.093c-.411-.53-.736-.951-.882-1.46c-.145-.51-.092-1.038-.025-1.706l.012-.116l.254-2.54c-1.673.273-2.916 1.846-2.916 3.697a.75.75 0 0 1-1.5 0c0-2.64 1.914-5.083 4.68-5.233m-.783 7.498a.75.75 0 0 1 .588.882a7.749 7.749 0 0 1-2.757 4.531l-.51.408a.75.75 0 0 1-.936-1.172l.509-.407a6.25 6.25 0 0 0 2.224-3.654a.75.75 0 0 1 .882-.588" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="trips_transfer_graphic">
                <div></div>
            </div>
            <div class="trips_transfer_info">
                <div>@leg.TransferMessages[0]</div>
            </div>
        </div>
    }
    
    <div class="trips_leg">
        <div class="trips_times">
            <div class="trips_time">
                @leg.Origin.Time
                @if (leg.Origin.Delay > 0)
                {
                    <span>+@leg.Origin.Delay</span>
                }
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <path fill="currentColor" fill-rule="evenodd" d="M11.944 1.25h.112c.662 0 1.274 0 1.84.007a.757.757 0 0 1 .23.003c.907.016 1.69.053 2.363.143c1.172.158 2.121.49 2.87 1.238c.748.749 1.08 1.698 1.238 2.87c.153 1.14.153 2.595.153 4.433v3.022a.768.768 0 0 1-.001.072c-.004 1.384-.027 2.523-.152 3.451c-.158 1.172-.49 2.121-1.238 2.87c-.406.405-.87.688-1.397.888l.709 1.418a.75.75 0 1 1-1.342.67l-.867-1.735c-1.135.15-2.582.15-4.406.15h-.112c-1.824 0-3.27 0-4.406-.15l-.867 1.735a.75.75 0 1 1-1.342-.67l.709-1.418a3.868 3.868 0 0 1-1.397-.888c-.748-.749-1.08-1.698-1.238-2.87c-.125-.928-.148-2.067-.152-3.45a.759.759 0 0 1 0-.073l-.001-.91V9.944c0-1.838 0-3.294.153-4.433c.158-1.172.49-2.121 1.238-2.87c.749-.748 1.698-1.08 2.87-1.238c.673-.09 1.456-.127 2.363-.143a.755.755 0 0 1 .23-.003c.566-.007 1.178-.007 1.84-.007m-2.68 1.526c-.593.02-1.104.053-1.553.114c-1.006.135-1.586.389-2.01.812c-.422.423-.676 1.003-.811 2.009c-.138 1.028-.14 2.382-.14 4.289v2.25h14.5V10c0-1.907-.002-3.261-.14-4.29c-.135-1.005-.389-1.585-.812-2.008c-.423-.423-1.003-.677-2.009-.812c-.449-.06-.96-.095-1.553-.114a2.75 2.75 0 0 1-5.472 0m3.96-.024a1.25 1.25 0 0 1-2.449 0a266.424 266.424 0 0 1 2.45 0m6.02 10.998H4.756c.01 1.034.042 1.858.134 2.54c.135 1.005.389 1.585.812 2.008c.423.423 1.003.677 2.009.812c1.028.138 2.382.14 4.289.14c1.907 0 3.262-.002 4.29-.14c1.005-.135 1.585-.389 2.008-.812c.423-.423.677-1.003.812-2.009c.092-.68.123-1.505.134-2.539M6.25 16a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m8.5 0a.75.75 0 0 1 .75-.75H17a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75" clip-rule="evenodd"/>
            </svg>
            <div class="trips_time">
                @leg.Destination.Time
                @if (leg.Destination.Delay > 0)
                {
                    <span>+@leg.Destination.Delay</span>
                }
            </div>
        </div>
        <div class="trips_graphic">
            <div class="trips_pin"></div>
            <div class="trips_line"></div>
            <div class="trips_pin"></div>
        </div>
        <div class="trips_info">
            <div class="trips_station">
                <span>@leg.Origin.Name</span>
                <span class="trips_track">Spoor @leg.Origin.Track</span>
            </div>
            <div class="trips_notes">
                @foreach (var note in leg.Notes)
                {
                    <span>@note</span>
                }
            </div>
            <div class="trips_station">
                <span>@leg.Destination.Name</span>
                <span class="trips_track">Spoor @leg.Destination.Track</span>
            </div>
        </div>
    </div>
}

